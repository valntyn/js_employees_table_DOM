{"version":3,"sources":["scripts/main.js"],"names":["menu","document","querySelector","tbody","list","querySelectorAll","tds","flag","activeRow","addEventListener","e","item","target","closest","index","cellIndex","contains","sort","a","b","aText","children","innerText","bText","localeCompare","aNums","replace","bNums","forEach","el","append","selectedRow","classList","remove","add","body","insertAdjacentHTML","pushNotification","posTop","posRight","title","description","type","div","setTimeout","form","errorPhrase","successPhrase","preventDefault","data","FormData","objData","Object","fromEntries","entries","personName","name","position","office","age","salary","key","length","isNaN","numFormat","money","Intl","NumberFormat","format","i","ondblclick","hasAttribute","setAttribute","innerHTML","input","createElement","value","style","height","offsetHeight","clientTop","backgroundColor","textAlign","onblur","td","parentElement","origText","getAttribute","currentText","removeAttribute","cssText","onkeypress","event","keyCode","blur","firstElementChild","select"],"mappings":"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","file":"main.5dbc599d.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-fallthrough */\n'use strict';\n\nconst menu = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst list = tbody.querySelectorAll('tr');\nconst tds = tbody.querySelectorAll('td');\nlet flag = true;\nlet activeRow = '';\n\nmenu.addEventListener('click', e => {\n  const item = e.target.closest('th');\n  const index = e.target.cellIndex;\n\n  if (!item || !menu.contains(item)) {\n    return;\n  }\n  flag = !flag;\n\n  const sortedCells = [...list]\n    .sort((a, b) => {\n      const aText = a.children[index].innerText;\n      const bText = b.children[index].innerText;\n\n      switch (index) {\n        case 0:\n        case 1:\n\n        case 2:\n          if (flag) {\n            return aText.localeCompare(bText);\n          } else {\n            return bText.localeCompare(aText);\n          }\n\n        case 3:\n\n        case 4:\n          const aNums = +(aText.replace(/\\W/g, ''));\n          const bNums = +(bText.replace(/\\W/g, ''));\n\n          if (flag) {\n            return aNums - bNums;\n          } else {\n            return bNums - aNums;\n          }\n\n        default:\n          return 0;\n      }\n    });\n\n  sortedCells.forEach(el => {\n    return tbody.append(el);\n  });\n});\n\ntbody.addEventListener('click', e => {\n  const selectedRow = e.target.closest('tr');\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  selectedRow.classList.add('active');\n  activeRow = selectedRow;\n});\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form action=\"/\" method=\"POST\" class=\"new-employee-form\">\n    <label>\n      Name:\n      <input type=\"text\" name=\"name\" data-qa=\"name\">\n    </label>\n\n    <label>\n      Position:\n      <input type=\"text\" name=\"position\" data-qa=\"position\">\n    </label>\n\n    <label>\n      Office:\n      <select type=\"select\" name=\"office\" data-qa=\"office\">\n        <option disabled selected>Choose the city</option>\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>\n      Age:\n      <input type=\"text\" name=\"age\" data-qa=\"age\">\n    </label>\n\n    <label>\n      Salary:\n      <input type=\"text\" name=\"salary\" data-qa=\"salary\">\n    </label>\n\n    <button>\n      Save to table\n    </button>\n  </form>\n`);\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  document.body.insertAdjacentHTML('afterbegin', `\n    <div class=\"notification\" style=\"top:${posTop}px; right:${posRight}px;\">\n      <h2 class=\"title\">${title}</h2>\n      <p>${description}</p>\n    </div>\n  `);\n\n  const div = document.querySelector('div');\n\n  div.classList.add(type);\n\n  setTimeout(() => div.remove(), 2000);\n};\n\nconst form = document.querySelector('form');\nconst errorPhrase = 'Ooops... something went wrong';\nconst successPhrase = `You've done it!`;\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const objData = Object.fromEntries(data.entries());\n\n  const { name: personName, position, office, age, salary } = objData;\n\n  for (const key in objData) {\n    if (objData[key] === '') {\n      pushNotification(10, 10, errorPhrase,\n        'please, fill the all forms', 'error');\n\n      return;\n    }\n  };\n\n  if (personName.length < 4) {\n    pushNotification(10, 10, errorPhrase,\n      `Name should be more than 4 letters,\n      please fill the form with correct values`,\n      'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    pushNotification(10, 10, errorPhrase,\n      `The age of employee should be more than 18\n      or under than 90 years old`, 'error');\n\n    return;\n  }\n\n  if (isNaN(+age)) {\n    pushNotification(10, 10, errorPhrase,\n      'Age should be a number', 'error');\n\n    return;\n  }\n\n  if (isNaN(+salary)) {\n    pushNotification(10, 10, errorPhrase,\n      'Salary should be a number', 'error');\n\n    return;\n  }\n\n  pushNotification(10, 10, successPhrase,\n    `Your employee has successfully added`, 'success');\n\n  const numFormat = new Intl.NumberFormat('en-US');\n  const money = numFormat.format(salary);\n\n  tbody.insertAdjacentHTML('beforeend', `\n  <tr>\n    <td>${personName}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>$${money}</td>\n  </tr>\n  `);\n});\n\nfor (let i = 0; i < tds.length; i++) {\n  tds[i].ondblclick = function() {\n    if (this.hasAttribute('data-clicked')) {\n      return;\n    }\n    this.setAttribute('data-clicked', 'yes');\n    this.setAttribute('data-text', this.innerHTML);\n\n    const input = document.createElement('input');\n\n    input.setAttribute('type', 'text');\n    input.value = this.innerHTML;\n    input.style.height = this.offsetHeight - (this.clientTop * 2) + 'px';\n    input.style.backgroundColor = '#cbcbcb';\n    input.style.textAlign = 'inherit';\n\n    input.onblur = function() {\n      const td = input.parentElement;\n      const origText = input.parentElement.getAttribute('data-text');\n      const currentText = this.value;\n\n      if (origText !== currentText) {\n        td.removeAttribute('data-clicked');\n        td.removeAttribute('data-text');\n        td.innerHTML = currentText;\n        td.style.cssText = '';\n      } else {\n        td.removeAttribute('data-clicked');\n        td.removeAttribute('data-text');\n        td.innerHTML = origText;\n      }\n    };\n\n    input.onkeypress = function() {\n      if (event.keyCode === 13) {\n        this.blur();\n      }\n    };\n\n    this.innerHTML = '';\n    this.append(input);\n    this.firstElementChild.select();\n  };\n}\n"]}